# LangGraph ê¸°ë°˜ ê¸°ìˆ  ì†Œì‹ ìˆ˜ì§‘Â·í‰ê°€ íŒŒì´í”„ë¼ì¸ ì„¤ê³„

## ğŸ“Œ ëª©ì 

ì´ ê·¸ë˜í”„ëŠ” íŠ¹ì • ê¸°ìˆ (Spring, Next.js ë“±)ì— ëŒ€í•´

- ê³µì‹ ì†ŒìŠ¤(RSS, GitHub Releases, Web Search ë“±)ì—ì„œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê³ 
- ì´ë¥¼ ì •ê·œí™” â†’ í‰ê°€í•œ ë’¤
- **ì¶©ë¶„í•œ í’ˆì§ˆì˜ ë‹µë³€ì´ ë§Œë“¤ì–´ì§ˆ ë•Œê¹Œì§€ ë°˜ë³µ(loop)** í•˜ëŠ”

**LangGraph ì—°ìŠµìš© ì—ì´ì „í‹± íŒŒì´í”„ë¼ì¸**ì´ë‹¤.

---

## ğŸ§  ì „ì²´ íë¦„ ìš”ì•½

```
Plan â†’ Collect â†’ Normalize â†’ Evaluate â†’ Answer
         â†‘                        â†“
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              (loop if needed)

```

- **ì˜ì‚¬ê²°ì •ì€ plan / evaluator**
- **ì‹¤í–‰ì€ collect**
- **ì •ì œ ë° ëˆ„ì ì€ normalize**
- **ìµœì¢… ì¶œë ¥ì€ answer node**

---

## ğŸ§© ë…¸ë“œ êµ¬ì„± ë° ì—­í• 

### 1ï¸âƒ£ `plan_collection`

**ì—­í• **

- ì´ë²ˆ ì‹¤í–‰ì—ì„œ **ì–´ë–¤ ì†ŒìŠ¤ë¥¼ ì–´ë–»ê²Œ ìˆ˜ì§‘í• ì§€ ê²°ì •**
- loop ì‹œ í‰ê°€ìì˜ í”¼ë“œë°±ì„ ë°˜ì˜í•´ ì „ëµ ìˆ˜ì •

**ì£¼ìš” ì±…ì„**

- ì‚¬ìš©í•  source ì„ íƒ (rss / github / web_search)
- sourceë³„ íŒŒë¼ë¯¸í„° ê²°ì • (repo, feed_url, query ë“±)
- ìˆ˜ì§‘ ë²”ìœ„/ì œí•œ ì„¤ì • (days, limit ë“±)

**ì…ë ¥**

- tech (Tech Enum)
- ì´ì „ í‰ê°€ìì˜ feedback (ì„ íƒ)

**ì¶œë ¥**

```json
collection_plan: [
  {
    "source": SourceType.RSS,
    "rss_urls": ["https://spring.io/blog.atom"],
    "github_repos": [],
    "web_search_queries": []
  },
  {
    "source": SourceType.GITHUB_RELEASES,
    "rss_urls": [],
    "github_repos": ["spring-projects/spring-boot"],
    "web_search_queries": []
  }
]
```

---

### 2ï¸âƒ£ `collect_events`

**ì—­í• **

- planì—ì„œ ê²°ì •ëœ ìˆ˜ì§‘ ê³„íšì„ **ê·¸ëŒ€ë¡œ ì‹¤í–‰**
- ì™¸ë¶€ ì„¸ê³„ì™€ í†µì‹ í•˜ëŠ” ìœ ì¼í•œ ë…¸ë“œ

**ì£¼ìš” ì±…ì„**

- RSS ìš”ì²­
- GitHub Releases API í˜¸ì¶œ
- Tavily Web Search í˜¸ì¶œ
- ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨/ë¹ˆ ì‘ë‹µ ì²˜ë¦¬

**ì¤‘ìš” ì›ì¹™**

- âŒ íŒë‹¨í•˜ì§€ ì•ŠìŒ
- âŒ ìš”ì•½í•˜ì§€ ì•ŠìŒ
- âœ… ì˜¤ì§ "ê°€ì ¸ì˜¤ê¸°"

**ì¶œë ¥**

```json
raw_events: [
  {
    "source": SourceType.RSS,
    "fetched_at": "2025-12-14T10:00:00Z",
    "payload": "<rss>...</rss>",
    "meta": {}
  },
  {
    "source": SourceType.GITHUB_RELEASES,
    "fetched_at": "2025-12-14T10:00:00Z",
    "payload": { ... },
    "meta": {}
  }
]
```

---

### 3ï¸âƒ£ `normalize_events`

**ì—­í• **

- sourceë§ˆë‹¤ ì œê°ê°ì¸ raw ë°ì´í„°ë¥¼ **ê³µí†µ Event ìŠ¤í‚¤ë§ˆë¡œ ë³€í™˜**
- ë³€í™˜ëœ ì´ë²¤íŠ¸ë¥¼ Stateì˜ eventsì— **ëˆ„ì **

**ì£¼ìš” ì±…ì„**

- í•„ë“œ ë§¤í•‘ (title, url, published_at ë“±)
- ë‚ ì§œ í¬ë§· í†µì¼ (ISO)
- HTML unescape / í…ìŠ¤íŠ¸ ì¶”ì¶œ
- ì¤‘ë³µ ì œê±° (URL ê¸°ë°˜)
- ìµœì†Œí•œì˜ ì •í•©ì„± ë³´ì¥

**ì¶œë ¥**

```json
events: [
  {
    "source": SourceType.RSS,
    "title": "Spring Cloud 2024.0.3 Released",
    "url": "https://spring.io/blog/...",
    "published_at": "2025-12-10T00:00:00Z",
    "author": "Spring Team",
    "content": "...",
    "tags_hint": ["release", "spring-cloud"],
    "importance_hint": 0.8
  }
]
```

---

### 4ï¸âƒ£ `evaluate_result`

**ì—­í• **

- ëˆ„ì ëœ eventsë¥¼ ê²€í† í•˜ì—¬ **ì¶©ë¶„í•œì§€ íŒë‹¨**
- ë¶€ì¡±í•˜ë‹¤ë©´ **ì™œ ë¶€ì¡±í•œì§€ ì„¤ëª…**í•˜ê³  ì¶”ê°€ ìˆ˜ì§‘ ì œì•ˆ

**ì£¼ìš” ì±…ì„**

- ì´ë²¤íŠ¸ ê°œìˆ˜ í™•ì¸
- ì´ë²¤íŠ¸ í’ˆì§ˆ í‰ê°€ (ì¤‘ìš”ë„, ìµœì‹ ì„±)
- ì •ë³´ ëˆ„ë½ ì—¬ë¶€ íŒë‹¨
- ì¬ìˆ˜ì§‘ í•„ìš” ì—¬ë¶€ ê²°ì •

**ì…ë ¥**

- events (ëˆ„ì ëœ ì •ê·œí™” ì´ë²¤íŠ¸ ë¦¬ìŠ¤íŠ¸)

**ì¶œë ¥**

```json
evaluation: {
  "pass_": false,
  "score": 0.6,
  "feedback": "ë¦´ë¦¬ì¦ˆ ì •ë³´ëŠ” ì¶©ë¶„í•˜ë‚˜ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ê°€ ë¶€ì¡±í•¨",
  "missing": ["blog_posts", "community_discussions"],
  "suggested_plan": [
    {
      "source": SourceType.TAVILY,
      "web_search_queries": ["Spring latest blog posts 2025"]
    }
  ]
}
```

**ë¶„ê¸°**

- `pass_ == true` â†’ `final_answer` ë…¸ë“œë¡œ
- `pass_ == false` â†’ `plan_collection`ìœ¼ë¡œ loop

---

### 5ï¸âƒ£ `final_answer`

**ì—­í• **

- ëˆ„ì ëœ eventsë¥¼ ê¸°ë°˜ìœ¼ë¡œ **ìµœì¢… ë‹µë³€ ìƒì„±**
- ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•  ê¹”ë”í•œ í¬ë§·ìœ¼ë¡œ ì •ë¦¬

**ì¡´ì¬ ì´ìœ **

- ë‚´ë¶€ ë©”íƒ€ ì •ë³´ ì œê±°
- ì¶œë ¥ í¬ë§· ì•ˆì •í™”
- ìš”ì•½ ë° í•˜ì´ë¼ì´íŠ¸ ì¶”ì¶œ

**ì…ë ¥**

- events (ëˆ„ì ëœ ì •ê·œí™” ì´ë²¤íŠ¸ ë¦¬ìŠ¤íŠ¸)

**ì¶œë ¥**

```
Spring ìµœì‹  ì†Œì‹ (2025-12-14 ê¸°ì¤€)

## ì£¼ìš” ë¦´ë¦¬ì¦ˆ
- Spring Cloud 2024.0.3 ì •ì‹ ë¦´ë¦¬ì¦ˆ
  - Spring Boot 3.4.12 ê¸°ë°˜
  - OpenFeign, Gateway ë“± ì£¼ìš” ëª¨ë“ˆ ê°œì„ 
  - 2024.x ë¼ì¸ ë§ˆì§€ë§‰ ì˜¤í”ˆì†ŒìŠ¤ ë¦´ë¦¬ì¦ˆ

## ì°¸ê³  ë§í¬
- https://spring.io/blog/2025/12/10/spring-cloud-2024-0-3
- https://github.com/spring-projects/spring-boot/releases/v3.4.12
```

---

## ğŸ“Š State ë³€ê²½ ì‚¬í•­

### ì œê±°ëœ í•„ë“œ
- `summary_draft: SummaryDraft` âŒ (ì¤‘ê°„ ìš”ì•½ ë¶ˆí•„ìš”)

### ìœ ì§€/ìˆ˜ì •ëœ í•„ë“œ
- `events: Annotated[List[NormalizedEvent], operator.add]` âœ… (ëˆ„ì )
- `evaluation: Evaluation` âœ… (ìµœì‹  í‰ê°€ë¡œ ë®ì–´ì“°ê¸°)
- `final_answer: str` âœ… (ìµœì¢… ë‹µë³€)

---

## ğŸ”„ Loop ì „ëµ

1. ì²« ë²ˆì§¸ ë£¨í”„: ê¸°ë³¸ ì†ŒìŠ¤(RSS + GitHub) ìˆ˜ì§‘
2. Evaluatorê°€ ë¶€ì¡±í•˜ë‹¤ê³  íŒë‹¨í•˜ë©´ ì¶”ê°€ ì†ŒìŠ¤ ì œì•ˆ
3. Plan ë…¸ë“œê°€ ì œì•ˆì„ ë°˜ì˜í•˜ì—¬ ìƒˆë¡œìš´ ìˆ˜ì§‘ ê³„íš ì‘ì„±
4. ì¶©ë¶„í•˜ë‹¤ê³  íŒë‹¨ë  ë•Œê¹Œì§€ ë°˜ë³µ (ìµœëŒ€ max_attempts)
